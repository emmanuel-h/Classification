{% extends "LIFOClassifBundle::layoutGeneral.html.twig" %}

{% block title %}{{ parent() }} - Numérisations{% endblock %}

{% block LIFOClassif_body %}

<div class="well">
  {{ form_start(form, {'attr': {'class': 'form-horizontal'}}) }}
  {{ form_errors(form) }}
  <fieldset>
  	<legend>&nbsp;&nbsp;Type de numérisations</legend>
  	<div class="form-group">
  	  <div class="col-sm-4">
    	{{ form_widget(form.typeNumerisation) }}
        {{ form_errors(form.typeNumerisation) }}
   	  </div>
      <div class="col-sm-8">
        <div class="alert alert-info" role="alert">
		  <strong>Actuellement : </strong>{{ typeNumerisation }}
	    </div>
      </div>
    </div>
  </fieldset>
  {{ form_widget(form.afficher, {'attr': {'class': 'btn btn-primary'}}) }}
  {{ form_rest(form) }}
  {{ form_end(form) }}
</div>

<table class="table table-bordered table-striped table-hover">
	<thead align="middle"><tr class="warning"><td width=5%><b>ID tesson</b></td><td width=10%><b>Site</b><td width=10%><b>US</b></td><td width=10%><b>Numéro d'isolation</b></td></tr></thead>
	<tbody>
	 {% for tesson in tessons %}
		<tr>
			<td><a href="{{ base_url ~path('lifo_classif_tesson', {'id': tesson.t_id}) }}">{{ tesson.t_id }}</a></td>
			<td>{{ tesson.site_codeINSEE|default('NO') }}&nbsp;{{ tesson.site_numSiteCommune|default('NO') }}</td>
			<td>{{ tesson.u_s_nom|default('NO') }}</td>
			<td>{{ tesson.t_numIsolation }}</td>
		</tr>
	{% endfor %}
</table>
<p> Nombre de pages : {{ nbPages }}</p>

{#
<ul class="pagination">
        
                            <li class="active">
                <a href=" {{ base_url ~path('lifo_classif_numerisations', {'page': page}) }}">
                	{{ page }}
                </a>
            </li>
               <li>
                <a href=" {{ base_url ~path('lifo_classif_numerisations', {'page': page+1}) }}">
                	{{ page+1 }}
                </a>
            </li>
               <li>
                <a href=" {{ base_url ~path('lifo_classif_numerisations', {'page': page+2}) }}">
                	{{ page+2 }}
                </a>
            </li>
               <li>
                <a href=" {{ base_url ~path('lifo_classif_numerisations', {'page': page+3}) }}">
                	{{ page+3 }}
                </a>
            </li>
               <li>
                <a href=" {{ base_url ~path('lifo_classif_numerisations', {'page': page+4}) }}">
                	{{ page+4 }}
                </a>
            </li>
                    <li>
                <a href="/Classification/web/app_dev.php/classification/2?typeNumerisationChoisi=Aucune&amp;typeClassifChoisi=Aucune&amp;tessonsClasses=0">
                    >
                </a>
            </li>
            <li>
                <a href="/Classification/web/app_dev.php/classification/137?typeNumerisationChoisi=Aucune&amp;typeClassifChoisi=Aucune&amp;tessonsClasses=0">
                    >>
                </a>
            </li>
            </ul>
#}
{% if nbPages > 0 %}
    <ul class="pagination">
        {% if page > 1 %}
            <li>
                <a href="{{ base_url ~path('lifo_classif_numerisations', {'page': 1}) }}">
                    <<
                </a>
            </li>
            <li>
                <a href="{{ base_url ~path('lifo_classif_numerisations', {'page': page-1}) }}">
                    <
                </a>
            </li>
        {% endif %}

        {# Affichage de toutes les pages entre p-4 et p+4 sauf si < 1 ou > nbPages #}
        {% for p in range(max(page-4, 1), min(page+4, nbPages)) %}
            <li {% if p == page %}class="active"{% endif %}>
                <a href="{{ base_url ~path('lifo_classif_numerisations', {'page': p}) }}">
                    {{ p }}
                </a>
            </li>
        {% endfor %}

        {% if page < nbPages %}
            <li>
                <a href="{{ base_url ~path('lifo_classif_numerisations', {'page': page+1}) }}">
                    >
                </a>
            </li>
            <li>
                <a href="{{ base_url ~path('lifo_classif_numerisations', {'page': nbPages}) }}">
                    >>
                </a>
            </li>
        {% endif %}
    </ul>
{% endif %}

{% endblock %}